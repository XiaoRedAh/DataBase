# DBS概述

**数据**：是数据库中存储的基本对象，是描述事物属性的符号。

**数据库DB**：是长期储存在计算机内，有组织、可共享、大量的数据集合（存储数据的文件）【一组相互联系的数据的集合】

**数据管理系统DBMS**：是介于用户和操作系统之间的数据管理软件。

**数据库系统DBS**：由一个数据库及一组用以访问这些数据的程序组成。包含DB、DBMS（以及应用开发工具）、应用程序和数据库管理员DBA

**数据库系统DBS的组成**
* 数据库DB
* 数据库管理系统DBMS
* 支持数据库运行的软硬件环境
* 用户DBA

*注：整个底层都是软/硬件平台，表格表现的有点歧义*
|用户|<-->|数据库管理系统DBMS|<-->|数据库DB|
|--|--|--|--|--|
|||软件/硬件平台|||

**数据、DB、DBMS、DBS相互之间的包含关系**

DBS包括DBMS和DB，DB是相互关联的数据的集合

数据库DB一般保存在磁盘中，因此位于最里面的hardware层
OS夹在hardware层和DBMS层间，是硬件中DB与DBMS交互的桥梁
DBMS层夹在OS层和Application develop tools层之间，是操作系统和软件(应用程序)进行交互的桥梁

![替代：pic/DBS，DBMS，DB之间的关系png](https://image.itbaima.net/images/253/image-20230610168449252.png)

![替代：pic/DBMS沟通软件和数据库DB](https://image.itbaima.net/images/253/image-20230611164499499.png)

# 三级模式/体系结构

一个数据库只能有一个物理模式，一个概念模式，但可以有多个外模式（子模式）

## 物理层/物理模式/内模式

**定义**：是数据库物理结构和存储方式的描述，即数据库的“内部视图”。内部视图是整个数据库的底层表示，它由内部记录型中各个类型的值组成。内模式定义了数据库中的各种存储记录、存储记录的物理表示、存储结构与物理存取方法，如数据存储的文件结构、索引、集簇等存取方式和存取路径等。**一个数据库只有一个内模式**
在文件和操作系统级上，不深入到设备级

**人话**：数据库的物理结构，定义了数据库中的各种数据对象的存储形式及存取方法，如索引以及存取路径等。

## 逻辑层/逻辑模式/概念模式/模式

**定义**：是数据库系统中全局数据逻辑结构和特征的描述，是**全体用户的公共数据视图**，这种描述是一种抽象描述，不涉及具体硬件平台与软件环境。概念模式主要描述数据的概念记录类型和它们之间的关系，还包括一些数据间的语义约束。

**人话**：数据库的逻辑结构，描述所有数据的结构和数据间联系，屏蔽了向下的物理模式（与存储方式，硬件环境无关），是全体用户的公共数据视图，比如数据表。

## 视图层/外模式

**定义**：是用户和数据库系统的接口，**反映了用户对数据的实际要求**。外模式是与某一具体应用有关的数据的逻辑结构和特征描述。**概念模式给出系统全局的数据描述，外模式则给出每个用户的局部描述**，即外模式为用户所见到的概念模式的一个部分

**人话**：实际上就是数据库逻辑结构的一部分（用户看到的结果）。外模式 = 用户视图 = 逻辑模式的子集
## 三级设计的优点

*注：下图中的“模式”即“概念模式”*
![三级模式图示](https://pic4.zhimg.com/v2-5a996779426e404566b1da36d2d16259_r.jpg)

三级设计提供了物理数据独立性和逻辑数据独立性，减轻了各种用户使用数据库的负担（使用、修改）：
* **逻辑数据独立性**：指应用程序独立于数据库的逻辑结构。当数据库逻辑结构（概念模式）改变时，外模式可以不变，从而使应用程序也保持不变。
* **物理数据独立性**：指应用程序独立于数据库的物理结构。当数据库物理结构（内模式）发生改变时，概念模式可以不变，从而外模式不变，使应用程序也保持改变。

概括地说，独立性就是下层改变，不会使上层改变。

**二级映射：由DBMS完成，保证了逻辑数据独立性和物理数据独立性**
概念模式/内模式映射是物理独立性的关键
外模式/概念模式映射是逻辑独立性的关键

# 数据模型

## 三要素

* 数据结构
* 数据操作
* 完整性约束

## 概念数据模型

**定义**
简单地说，就是利用自然语言对真实世界的业务数据的抽象化描述，是对客观世界的第一层抽象,是面向终端用户的数据架构。
>概念模型，是面向数据库用户的真实世界的模型，主要用来描述真实世界中的概念化结构，它使数据库的设计人员在设计的初始阶段，摆脱计算机系统及DBMS的具体技术问题，集中精力分析数据以及数据之间的联系等，**与具体的DBMS无关**。概念数据模型**必须转换成逻辑数据模型，才能在DBMS中实现**。 ——百度百科

**最常见的，就是E-R模型**

## 逻辑数据模型

**定义**：是用户从数据库所看到的模型，是具体的DBMS所支持的数据模型

**几种常见类型**
* 层次模型：是一种**树形结构**的数据模型，将数据组织成一系列的层次关系
* 网状模型：是一种复杂、相互关联的数据库模型，它的数据结构是由**节点和连接线组成的图形网络结构**。多用于过去某些大型的数据管理系统
* 关系模型：用**表的集合**来表示数据和数据间的联系。目前使用最广泛的数据模型
* 对象模型：可以看成E-R模型增加了封装，方法，对象标识等概念后的扩展
* 关系-对象模型：结合关系模型和对象模型

## 物理数据模型

**定义**
>物理模型，是面向计算机物理表示的模型，**描述了数据在储存介质上的组织结构**，它不但与具体的DBMS有关，而且还与操作系统和硬件有关。每一种逻辑数据模型在实现时都有对应的物理数据模型。DBMS为了保证其独立性与可移植性，大部分物理数据模型的实现工作由系统自动完成，而设计者只设计索引、聚集等特殊结构。 ——百度百科

